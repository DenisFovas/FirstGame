<html>
  <head>
    <script type='text/javascript'>

    var player = {};

    // Status initial
    player.X = 100;
    player.Y = 100;
    player.vitezaX = 1;
    player.vitezaY = 0;
    player.vitezaMaxima = 5;

    // boundary
    // Setez marginea maxima a ecranului

    var minx = 0;
    var miny = 0;
    var maxx = 445; // 10 pixels for character's width
    var maxy = 445; // 10 pixels for character's width

    // spatiu in care nu trebuie sa il depasim 
    // acest spatiu este (latimea ecranului - marimea imaginii)

    // controller vars
    var upPressed = 0;
    var downPressed = 0;
    var leftPressed = 0;
    var rightPressed = 0;


    // inceput functii de viteza
    function slowDownX()
    {
      if (player.vitezaX > 0)
        player.vitezaX = player.vitezaX - 1;
      if (player.vitezaX < 0)
        player.vitezaX = player.vitezaX + 1;
    }

    function slowDownY()
    {
        if (player.vitezaY > 0)
            player.vitezaY = player.vitezaY - 1;
        if (player.vitezaY < 0)
            player.vitezaY = player.vitezaY + 1;
    }

    // sfarsit functii viteza



    function gameLoop(){
      // change position based on speed
      // schimb pozitia dupa un algoritm care nu il inteleg.
      player.X = Math.min(Math.max(player.X + player.vitezaX,minx),maxx);
      player.Y = Math.min(Math.max(player.Y + player.vitezaY,miny),maxy);

      // or, without boundaries:
      // player.X = player.X + player.vitezaX; 
      // player.Y = player.Y + player.vitezaY;

      // change actual position
      document.getElementById('character').style.left = player.X;
      document.getElementById('character').style.top = player.Y;

      // VITEZA

      // change speed based on keyboard events
      if (upPressed == 1)
        player.vitezaY = Math.max(player.vitezaY - 1,-1*player.vitezaMaxima);
      if (downPressed == 1)
        player.vitezaY = Math.min(player.vitezaY + 1,1*player.vitezaMaxima)
      if (rightPressed == 1)
        player.vitezaX = Math.min(player.vitezaX + 1,1*player.vitezaMaxima);
      if (leftPressed == 1)
        player.vitezaX = Math.max(player.vitezaX - 1,-1*player.vitezaMaxima);

      // SCADEREA VITEZEI

      // deceleration
      if (upPressed == 0 && downPressed == 0)
         slowDownY();
      if (leftPressed == 0 && rightPressed == 0)
         slowDownX();

      // loop
      setTimeout("gameLoop()",10);
    }

    //cod pentru taste, ficare v-a face o actiune in functie de ce anume se va apasa
    function keyDown(e){
      var code = e.keyCode ? e.keyCode : e.which;
      
      if (code == 38)
        upPressed = 1;
      if (code == 40)
        downPressed = 1;
      if (code == 37)
        leftPressed = 1;
      if (code == 39)
        rightPressed = 1;
    }

    function keyUp(e){
      var code = e.keyCode ? e.keyCode : e.which;
      
      if (code == 38)
        upPressed = 0;
      if (code == 40)
        downPressed = 0;
      if (code == 37)
        leftPressed = 0;
      if (code == 39)
        rightPressed = 0;
    }

    </script>

  </head>

    <body onload="gameLoop()" onkeydown="keyDown(event)" onkeyup="keyUp(event)" bgcolor='gray'>

       <!-- The Level -->
       <div style='width:500;height:500;position:absolute;left:0;top:0;background:#333333 ;'>
       </div>

       <!-- The Character -->
       <img id='character' src='Images/Inamic_1.png' style='position: absolute; left: 100; top: 100; height: 50; width: 50;'/>

    </body>

</html>